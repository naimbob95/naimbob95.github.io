---
import { Button } from "@/components/ui/button"
import { Badge } from "@/components/ui/badge"
import { Separator } from "@/components/ui/separator"
import { Github, Linkedin } from "lucide-react"
import ProfileImage from "../assets/profile.jpg"
import { Image } from 'astro:assets';
import { buttonVariants } from "@/components/ui/button"

---

<div class="container px-4 py-2 mx-auto max-w-6xl">
    <header class="fixed top-0 left-0 right-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
        <nav class="container flex items-center justify-center px-4 py-3 mx-auto max-w-6xl overflow-x-auto">
            <div class="flex items-center gap-6 md:gap-12">
                {["about", "experience", "education", "skills"].map((item) => (
                    <Button 
                        variant="ghost" 
                        size="sm" 
                        asChild 
                        className="hover:bg-muted hover:text-accent transition-colors duration-200 min-w-fit"
                    >
                        <a href={`#${item}`} class="text-xs md:text-sm font-medium tracking-wide uppercase whitespace-nowrap">
                            {item}
                        </a>
                    </Button>
                ))}
            </div>
        </nav>
    </header>

    <main class="pt-14">
        <section id="about" class="py-2 md:py-6">
            <div class="p-4 card-gradient glow dotted-border">
                <div class="flex flex-col items-center text-center space-y-3 md:space-y-4">
                    <div class="rounded-full bg-muted/50 p-2 ring-2 ring-accent/20 hover:ring-accent/40 transition-all">
                        <Image 
                            src={ProfileImage}
                            alt="Profile"
                            class="w-64 h-64 rounded-full object-cover ring-1 ring-accent/10" 
                        />
                    </div>
                    <div class="space-y-1 md:space-y-2">
                        <h1 class="text-2xl md:text-4xl lg:text-5xl font-bold tracking-tight gradient-text">
                            Amirul Naim Bin Ahmad Nazri
                        </h1>
                        <h2 class="text-base md:text-lg text-accent font-medium">Software Engineer</h2>
                    </div>
                    <p class="max-w-[600px] text-muted-foreground text-sm md:text-base">
                        Passionate about creating elegant solutions to complex problems.
                    </p>
                    <div class="flex flex-wrap justify-center gap-2 md:gap-3 pt-3">
                       <a 
                       href="https://github.com/naimbob95" 
                        target="_blank" 
                        rel="noopener noreferrer"
                        class={buttonVariants({ variant: "outline" })}
                        > 
                        <Github className="w-4 h-4" /> GitHub
                   
                    </a>
                    <a 
                    href="https://www.linkedin.com/in/amirul-naim-339a23b6/" 
                     target="_blank" 
                     rel="noopener noreferrer"
                     class={buttonVariants({ variant: "outline" })}
                     > 
                     <Linkedin className="mr-2 h-4 w-4" /> LinkedIn
                
                 </a>
                    </div>
                </div>
            </div>
        </section>

        

        <section id="experience" class="min-h-[65vh] py-1 md:py-2 flex flex-col">
            <h2 class="text-xl md:text-2xl font-bold tracking-tighter mb-2 text-center">Work Experience</h2>
            <div class="flex-grow">
                <div class="card-gradient h-full p-4">
                    <div class="relative">
                        <div class="absolute left-1/2 top-0 bottom-0 dotted-border-left transform -translate-x-1/2"></div>
                        
                        <div class="grid grid-cols-1 gap-8">
                            <!-- Right timeline item -->
                            <div class="relative flex items-center opacity-0 timeline-item">
                                <div class="absolute left-1/2 flex items-center justify-center w-10 h-10 rounded-full border-2 border-accent/50 bg-background transform -translate-x-1/2">
                                    <div class="w-3 h-3 bg-accent rounded-full"></div>
                                </div>
                                <div class="w-1/2">
                                    <!-- Empty for right alignment -->
                                </div>
                                <div class="w-1/2 pl-8">
                                    <div class="flex flex-col">
                                        <h3 class="text-lg font-semibold">Technical Team Lead</h3>
                                        <div class="flex items-center gap-2 text-sm text-muted-foreground">
                                            <p>PRIMALCOM ENTEPRISE SDN BHD
                                            </p>
                                            <span>•</span>
                                            <p>Sept 2020 - Apr 2021</p>
                                            </div>  
                                            <div class="flex flex-wrap gap-2 mt-2">
                                                <Badge 
                                                    variant="outline" 
                                                    className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                                >
                                                    Python
                                                </Badge>
                                                <Badge 
                                                    variant="outline" 
                                                    className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                                >
                                                    Node.Js
                                                </Badge>
                                                <Badge 
                                                    variant="outline" 
                                                    className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                                >
                                                    Flask
                                                </Badge>
                                                <Badge 
                                                    variant="outline" 
                                                    className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                                >
                                                  MongoDb
                                                </Badge>
                                                <Badge 
                                                    variant="outline" 
                                                    className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                                >
                                                    AWS
                                                </Badge>
                                                <Badge 
                                                variant="outline" 
                                                className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                            >
                                                AWS
                                            </Badge>
                                            </div>
                                        <ul class="mt-2 text-sm text-muted-foreground space-y-1">
                                            <li>• Led the team in system development and technical support, ensuring seamless operation and high customer satisfaction.</li>
                                            <li>• Developed and maintained Rest API using Node.js with PM2 process manager.</li>
                                            <li>• Collected raw sales and inventory data, conducted data cleaning, and analysis using Python.
                                            </li>
                                            <li>• Developed modules for an e-commerce fulfillment system using Python Flask microservice for backend, HTML/CSS/Javascript for frontend, and MongoDB and MYSQL for database.</li>
                                            <li>• Deployed web system on AWS servers using Nginx for optimal performance and high availability.</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
        
                            <!-- Left timeline item -->
                            <div class="relative flex items-center opacity-0 timeline-item">
                                <div class="absolute left-1/2 flex items-center justify-center w-10 h-10 rounded-full border-2 border-accent/50 bg-background transform -translate-x-1/2">
                                    <div class="w-3 h-3 bg-accent rounded-full"></div>
                                </div>
                                <div class="w-1/2 pr-8 text-right">
                                    <div class="flex flex-col items-end">
                                        <h3 class="text-lg font-semibold">Analyst Programmer
                                        </h3>
                                        <div class="flex items-center gap-2 text-sm text-muted-foreground">
                                            <p>SERBA DINAMIK IT SOLUTIONS SDN BHD
                                            </p>
                                            <span>•</span>
                                            <p>Apr 2020 - Sept 2020</p>
                                            </div>  
                                            <div class="flex flex-wrap gap-2 mt-2">
                                                <Badge 
                                                    variant="outline" 
                                                    className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                                >
                                                    Laravel
                                                </Badge>
                                                <Badge 
                                                    variant="outline" 
                                                    className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                                >
                                                    Linux
                                                </Badge>
                                                <Badge 
                                                    variant="outline" 
                                                    className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                                >
                                                    MySQL
                                                </Badge>
                                                <Badge 
                                                    variant="outline" 
                                                    className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                                >
                                                    IPFS
                                                </Badge>
                                                <Badge 
                                                    variant="outline" 
                                                    className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                                >
                                                    Node.Js
                                                </Badge>
                                            </div>      
                                        <ul class="mt-2 text-sm text-muted-foreground space-y-1 text-left">
                                            <li>• Worked with Laravel in the process of writing the code, ultimately resulting in a completed program.</li>
                                            <li>• Developed mobile applications within 3 months using an ionic framework.</li>
                                            <li>• Implemented the interplanetary file system(IPFS) for secure file storage in the system.
                                            </li>
                                            <li>• Pickup node.js and develop web API using node.js within 3 months.
                                            </li>
                                            <li>• Deployed the web system on the server using Nginx and apache with Ubuntu.
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="w-1/2">
                                    <!-- Empty for left alignment -->
                                </div>
                            </div>
        
                            <!-- Right timeline item -->
                            <div class="relative flex items-center opacity-0 timeline-item">
                                <div class="absolute left-1/2 flex items-center justify-center w-10 h-10 rounded-full border-2 border-accent/50 bg-background transform -translate-x-1/2">
                                    <div class="w-3 h-3 bg-accent rounded-full"></div>
                                </div>
                                <div class="w-1/2">
                                    <!-- Empty for right alignment -->
                                </div>
                                <div class="w-1/2 pl-8">
                                    <div class="flex flex-col">
                                        <h3 class="text-lg font-semibold">Web Developer Intern</h3>
                                        <div class="flex items-center gap-2 text-sm text-muted-foreground">
                                            <p>COOL CODE SDN BHD</p>
                                            <span>•</span>
                                            <p>Sept 2018 - Jan 2019</p>
                                            </div>  
                                            <div class="flex flex-wrap gap-2 mt-2">
                                                <Badge 
                                                variant="outline" 
                                                className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                            >
                                                Laravel
                                            </Badge>
                                            <Badge 
                                                variant="outline" 
                                                className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                            >
                                                Vue.js
                                            </Badge>
                                            <Badge 
                                                variant="outline" 
                                                className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                            >
                                                MySQL
                                            </Badge>                                        
                                            <Badge 
                                                variant="outline" 
                                                className="text-sm transition-all duration-300 hover:scale-110 hover:bg-accent/10 hover:border-accent/50 hover:shadow-sm cursor-pointer"
                                            >
                                                WordPress
                                            </Badge>
                                            </div>                                        
                                            <ul class="mt-2 text-sm text-muted-foreground space-y-1">
                                            <li>• Developed a web system using Laravel as the backend with Blade, Sass, and Vue.js for the frontend, and MySQL as the database.</li>
                                            <li>• Created and validated a software requirements specification and performed user acceptance testing.</li>
                                            <li>• Revamp and manage the company website using Wordpress.</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="education" class="min-h-[35vh] py-1 md:py-2 flex flex-col">
            <h2 class="text-xl md:text-2xl font-bold tracking-tighter mb-2 text-center">Education</h2>
            <div class="flex-grow">
                <div class="card-gradient h-full p-4">
                    <div class="relative">
                        <div class="absolute left-1/2 top-0 bottom-0 dotted-border-left transform -translate-x-1/2"></div>
                        
                        <div class="grid grid-cols-1 gap-8">
                            <!-- Right timeline item -->
                            <div class="relative flex items-center opacity-0 timeline-item">
                                <div class="absolute left-1/2 flex items-center justify-center w-10 h-10 rounded-full border-2 border-accent/50 bg-background transform -translate-x-1/2">
                                    <div class="w-3 h-3 bg-accent rounded-full"></div>
                                </div>
                                <div class="w-1/2">
                                    <!-- Empty for right alignment -->
                                </div>
                                <div class="w-1/2 pl-8">
                                    <div class="flex flex-col">
                                        <h3 class="text-lg font-semibold">Bachelor of Computer Science (Software Engineering)</h3>
                                            <div class="flex items-center gap-2 text-sm text-muted-foreground">
                                                <p>Universiti Teknologi Malaysia</p>
                                                <span>•</span>
                                                <p>2016 - 2020</p>
                                            </div>
                                        <p class="text-sm text-muted-foreground mt-1">Major in Software Engineering</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Left timeline item -->
                            <div class="relative flex items-center opacity-0 timeline-item">
                                <div class="absolute left-1/2 flex items-center justify-center w-10 h-10 rounded-full border-2 border-accent/50 bg-background transform -translate-x-1/2">
                                    <div class="w-3 h-3 bg-accent rounded-full"></div>
                                </div>
                                <div class="w-1/2 pr-8 text-right">
                                    <div class="flex flex-col items-end">
                                        <h3 class="text-lg font-semibold">Diploma in Information Technology (Programming)                                        </h3>
                                        <div class="flex items-center gap-2 text-sm text-muted-foreground">
                                        <p>Politeknik Balik Pulau</p>
                                        <span>•</span>
                                        <p>2013 - 2016</p>
                                        </div>  
                                        <p class="text-sm text-muted-foreground mt-1">Major in Programming</p>
                                    </div>
                                </div>
                                <div class="w-1/2">
                                    <!-- Empty for left alignment -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="skills" class="py-1 md:py-2">
            <h2 class="text-xl md:text-2xl font-bold tracking-tighter mb-2 text-center">Skills</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                <div class="card-gradient p-4 dotted-border">
                    <h3 class="text-base md:text-lg font-semibold mb-2">Languages</h3>
                    <div class="flex flex-wrap gap-2">
                        {["JavaScript", "TypeScript", "Python", "Java"].map((skill) => (
                            <Badge variant="outline" className="dotted-border">{skill}</Badge>
                        ))}
                    </div>
                </div>
                <div class="card-gradient p-4 dotted-border">
                    <h3 class="text-base md:text-lg font-semibold mb-2">Technologies</h3>
                    <div class="flex flex-wrap gap-2">
                        {["React", "Node.js", "Next.js", "PostgreSQL", "Docker"].map((skill) => (
                            <Badge variant="outline" className="dotted-border">{skill}</Badge>
                        ))}
                    </div>
                </div>
            </div>
        </section>
        
    </main>
</div>

<script>
    const observerCallback = (entries: IntersectionObserverEntry[]) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-timeline-item');
            }
        });
    };

    const observer = new IntersectionObserver(observerCallback, {
        threshold: 0.1
    });

    document.querySelectorAll('.timeline-item').forEach((item) => {
        observer.observe(item);
    });
</script>

<style>
    .animate-timeline-item {
        animation: fadeInUp 0.6s ease forwards;
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .timeline-item {
        transition: all 0.3s ease;
    }

    .glass-effect {
        backdrop-filter: blur(8px);
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    @media (max-width: 768px) {
        .timeline-item {
            flex-direction: column;
        }
        
        .timeline-item > div {
            width: 100% !important;
            text-align: left !important;
            padding: 0 0 0 2rem !important;
        }

        .timeline-item .flex-col {
            align-items: flex-start !important;
        }

        .timeline-item ul {
            text-align: left !important;
        }

        /* New mobile styles for timeline dots */
        .timeline-item .w-10.h-10 {
            width: 1.5rem !important;
            height: 1.5rem !important;
            left: 0 !important;
            transform: translateX(-50%) !important;
        }

        .timeline-item .w-3.h-3 {
            width: 0.5rem !important;
            height: 0.5rem !important;
        }

        /* Adjust the vertical line for mobile */
        .dotted-border-left {
            left: 0 !important;
            transform: translateX(-50%) !important;
        }
    }

    .timeline-item .w-10.h-10 {
        border: none;
        background-image: radial-gradient(circle, rgb(59, 130, 246, 0.5) 33%, rgba(255,255,255,0) 0%);
        background-size: 4px 4px;
        transition: all 0.3s ease;
    }
</style>
